# Конфигурация для Amvera
# Документация: https://docs.amvera.io

# Версия конфигурации
version: 1

# Версия Node.js
runtime:
  version: 20

# Настройки сборки
build:
  # Команда сборки (установка зависимостей)
  commands:
    - npm ci --production=false

# Настройки запуска
run:
  # Команда запуска приложения
  command: npm start
  
  # Порт приложения (Amvera автоматически назначит порт через переменную окружения PORT)
  port: ${PORT}

# Переменные окружения (можно также настроить в панели управления)
env:
  NODE_ENV: production

# Исключения из архива (не загружаются на сервер)
exclude:
  - node_modules
  - .git
  - .gitignore
  - *.log
  - .env.local
  - .env
  - .history
  - *.bat
  - *.sh
  - oleop
  - .vscode
  - .idea
  - *.md
  - railway.json
  - render.yaml

